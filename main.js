!function(){"use strict";var e=class{constructor(e,t,s,r,i){this.name=e.name,this.link=e.link,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButton=r,this._handleLikeButton=i,this._id=e._id,this.isLiked=e.isLiked}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeButton(this))),this._deleteButton.addEventListener("click",(()=>this._handleDeleteButton(this))),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this)}))}handleLikeToggle(e){this.isLiked=e,this._renderLikes()}_renderLikes(){this.isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}removeCard(){this._element.remove(),this._element=null}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._cardImageEl=this._element.querySelector(".card__image"),this._cardTitleEl=this._element.querySelector(".card__title"),this._cardTitleEl.textContent=this.name,this._cardImageEl.src=this.link,this._cardImageEl.alt=this.name,this._renderLikes(),this._setEventListeners(),this._element}},t=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputList.every((e=>e.validity.valid))}disableSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableSubmitButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}toggleButtonState(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}_setEventListeners(){this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(),this.toggleButtonState()}},s=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close(),e.target.classList.contains("modal__close")&&this.close()}))}},r=class extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputs=this._popupForm.querySelectorAll(".form__input"),this._submitButton=this._popupElement.querySelector(".form__button"),this._submitBtnText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}setSubmit(e){this._handleFormSubmit=e}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitBtnText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}};const i=document.forms["card-form"],n=document.querySelector("#profile-edit-button"),o=document.querySelector(".profile__add-button"),a=(i.querySelector(".form__button"),document.querySelector("#profile-title-input")),l=document.querySelector("#profile-description-input"),c=new class{constructor(e){this.baseUrl=e.baseUrl,this.headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this.baseUrl}/cards`,{method:"GET",headers:this.headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this.baseUrl}/users/me`,{headers:this.headers}).then(this._checkResponse)}updateProfileInfo(e,t){return fetch(`${this.baseUrl}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}updateAvatar(e){return fetch(`${this.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}addNewCard(e){return fetch(`${this.baseUrl}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this.baseUrl}/cards/${e}`,{method:"DELETE",headers:this.headers}).then(this._checkResponse)}addLikes(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).then(this._checkResponse)}removeLikes(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"2f044ea7-089c-4434-a9ef-24932c8b1246","Content-Type":"application/json"}}),h=new r("#edit-avatar",(function(e){console.log(e),h.renderLoading(!0),c.updateAvatar(e.link).then((()=>{console.log(e),d.setUserAvatar(e.link),h.close()})).catch(console.error).finally((()=>{h.renderLoading(!1)}))}));h.setEventListeners(),document.querySelector(".profile__image-button").addEventListener("click",(()=>{h.open()}));const d=new class{constructor(e){let{titleSelector:t,descriptionSelector:s,avatarSelector:r}=e;this._profileTitle=document.querySelector(t),this._profileDescription=document.querySelector(s),this._profileAvatar=document.querySelector(r)}getUserInfo(){return this._userInfo={name:this._profileTitle.textContent,about:this._profileDescription.textContent,avatar:this._profileAvatar.src},this._userInfo}setUserInfo(e,t){this._profileTitle.textContent=e,console.log(e),this._profileDescription.textContent=t}setUserAvatar(e){this._profileAvatar.src=e}}({titleSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__image"});c.getUserInfo().then((e=>{d.setUserInfo(e.name,e.about),d.setUserAvatar(e.avatar)})).catch(console.error);const u=new r("#profile-edit-modal",(function(e){u.renderLoading(!0),c.updateProfileInfo(e.name,e.about).then((e=>{d.setUserInfo(e.name,e.about),u.close()})).catch(console.error).finally((()=>{u.renderLoading(!1)}))}));u.setEventListeners(),n.addEventListener("click",(()=>{const e=d.getUserInfo();a.value=e.name,l.value=e.about,u.open(),L["profile-form"].resetValidation()}));const _=new r("#add-card-modal",(function(e){_.renderLoading(!0),c.addNewCard(e).then((e=>{m.addItem(p(e)),i.reset(),L["card-form"].disableSubmitButton(),_.close()})).catch(console.error).finally((()=>{_.renderLoading(!1)}))}));_.setEventListeners(),o.addEventListener("click",(()=>_.open()));const m=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._items.reverse().forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({items:[],renderer:e=>{m.addItem(p(e))}},".cards__list");function p(t){return new e(t,"#card-template",S,E,f).getView()}function f(e){e.isLiked?c.removeLikes(e._id).then((()=>{e.handleLikeToggle(!1)})).catch(console.error):c.addLikes(e._id).then((()=>{e.handleLikeToggle(!0)})).catch(console.error)}c.getInitialCards().then((e=>{console.log(e),e.forEach((e=>{m.addItem(p(e))}))})).catch(console.error);const v=new r("#modal-delete");function E(e){v.open(),v.setSubmit((()=>{console.log(e),c.deleteCard(e._id).then((()=>{e.removeCard(),v.close()})).catch(console.error)}))}v.setEventListeners();const b=new class extends s{constructor(e){super({popupSelector:e}),this._previewImage=this._popupElement.querySelector(".modal__preview-image"),this._previewTitle=this._popupElement.querySelector(".modal__preview-title")}open(e){let{name:t,link:s}=e;this._previewImage.src=s,this._previewImage.alt=t,this._previewTitle.textContent=t,super.open()}}("#preview-image-modal");function S(e){b.open(e)}b.setEventListeners();const L={};var g;g={formSelector:".modal__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"},Array.from(document.querySelectorAll(g.formSelector)).forEach((e=>{const s=new t(g,e),r=e.getAttribute("name");L[r]=s,s.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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akJuRSxLQUFLZ0wsY0FBY25KLElBQU0zQixFQUN6QkYsS0FBS2dMLGNBQWNsSixJQUFNN0IsRUFDekJELEtBQUtpTCxjQUFjckosWUFBYzNCLEVBQ2pDK0UsTUFBTVYsTUFDUixHTGdMcUMsd0JBR3ZDLFNBQVN6RSxFQUFpQkYsR0FDeEJvTCxFQUFZekcsS0FBSzNFLEVBQ25CLENBSkFvTCxFQUFZcEcsb0JBT1osTUFBTStFLEVBQWlCLENBQUMsRUFFRXdCLFFJakxKLENBQ3BCQyxhQUFjLGVBQ2RqSixjQUFlLGVBQ2ZFLHFCQUFzQixnQkFDdEJFLG9CQUFxQix3QkFDckJFLGdCQUFpQix5QkFDakJFLFdBQVksdUJKNEtLMEksTUFBTUMsS0FBSy9KLFNBQVN5QyxpQkFBaUJtSCxFQUFPQyxlQUNwRHJILFNBQVM5QixJQUNoQixNQUFNc0osRUFBWSxJQUFJQyxFQUFjTCxFQUFRbEosR0FDdEN3SixFQUFXeEosRUFBWXlKLGFBQWEsUUFFMUMvQixFQUFlOEIsR0FBWUYsRUFDM0JBLEVBQVV0SCxrQkFBa0IsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxyXG4gICAgaGFuZGxlTGlrZUJ1dHRvblxyXG4gICkge1xyXG4gICAgdGhpcy5uYW1lID0gY2FyZERhdGEubmFtZTtcclxuICAgIHRoaXMubGluayA9IGNhcmREYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG4gICAgdGhpcy5faWQgPSBjYXJkRGF0YS5faWQ7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBjYXJkRGF0YS5pc0xpa2VkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbih0aGlzKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMaWtlVG9nZ2xlKGlzTGlrZWQpIHtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuXHJcbiAgX3JlbmRlckxpa2VzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5uYW1lO1xyXG5cclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGZvcm1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dExpc3QuZXZlcnkoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXHJcbiAgICBdO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXQoaGFuZGxlU3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ0blRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzLCBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvYXBpLmpzXCI7XHJcblxyXG4vLyBXcmFwcGVyc1xyXG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY2FyZC1mb3JtXCJdO1xyXG5cclxuLy8gQnV0dG9uc1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQ2FyZFN1Ym1pdEJ1dHRvbiA9IGFkZENhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpO1xyXG5cclxuLy8gRm9ybSBkYXRhXHJcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG4vLyBBcGlcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMmYwNDRlYTctMDg5Yy00NDM0LWE5ZWYtMjQ5MzJjOGIxMjQ2XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIE5ldyBhdmF0YXJcclxuY29uc3QgZWRpdEF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjZWRpdC1hdmF0YXJcIiwgaGFuZGxlQXZhdGFyU3VibWl0KTtcclxuZWRpdEF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1idXR0b25cIik7XHJcbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0QXZhdGFyTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdCh1c2VyRGF0YSkge1xyXG4gIGNvbnNvbGUubG9nKHVzZXJEYXRhKTtcclxuICBlZGl0QXZhdGFyTW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIodXNlckRhdGEubGluaylcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2codXNlckRhdGEpO1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmxpbmspO1xyXG4gICAgICBlZGl0QXZhdGFyTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZWRpdEF2YXRhck1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIFByb2ZpbGUgaW5mb1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdGl0bGVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBkZXNjcmlwdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxyXG59KTtcclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4vLyBQcm9maWxlIGZvcm1cclxuY29uc3QgcHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXRcclxuKTtcclxucHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJQcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyUHJvZmlsZUluZm8ubmFtZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJQcm9maWxlSW5mby5hYm91dDtcclxuICBwcm9maWxlTW9kYWwub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KHVzZXJEYXRhKSB7XHJcbiAgcHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlUHJvZmlsZUluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgICBwcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIENhcmQgZm9ybVxyXG5jb25zdCBjYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCk7XHJcbmNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2FyZE1vZGFsLm9wZW4oKSk7XHJcblxyXG4vLyBDcmVhdGUgQ2FyZFxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCJcclxuKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVCdXR0b24sXHJcbiAgICBoYW5kbGVMaWtlQnV0dG9uXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coY2FyZHMpO1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChjYXJkRGF0YSkge1xyXG4gIGNhcmRNb2RhbC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoY2FyZERhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgICAgYWRkQ2FyZEZvcm0ucmVzZXQoKTtcclxuICAgICAgZm9ybVZhbGlkYXRvcnNbXCJjYXJkLWZvcm1cIl0uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICBjYXJkTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgY2FyZE1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIENhcmQgbGlrZXNcclxuZnVuY3Rpb24gaGFuZGxlTGlrZUJ1dHRvbihjYXJkKSB7XHJcbiAgaWYgKCFjYXJkLmlzTGlrZWQpIHtcclxuICAgIGFwaVxyXG4gICAgICAuYWRkTGlrZXMoY2FyZC5faWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLmhhbmRsZUxpa2VUb2dnbGUodHJ1ZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5yZW1vdmVMaWtlcyhjYXJkLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmQuaGFuZGxlTGlrZVRvZ2dsZShmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIERlbGV0ZSBjYXJkXHJcbmNvbnN0IGRlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjbW9kYWwtZGVsZXRlXCIpO1xyXG5kZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpIHtcclxuICBkZWxldGVNb2RhbC5vcGVuKCk7XHJcbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGNhcmQpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBJbWFnZSBwcmV2aWV3XHJcbmNvbnN0IGNhcmRQcmV2aWV3ID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbmNhcmRQcmV2aWV3LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcbiAgY2FyZFByZXZpZXcub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbi8vIEZvcm0gdmFsaWRhdGlvblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG5cclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlSW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2VzKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlcyhjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB0aXRsZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBjb25zb2xlLmxvZyhuYW1lKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihsaW5rKSB7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGxpbms7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcclxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAvLyB7XHJcbiAgLy8gICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gIC8vICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIC8vIH0sXHJcbiAgLy8ge1xyXG4gIC8vICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gIC8vICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIC8vIH0sXHJcbiAgLy8ge1xyXG4gIC8vICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gIC8vICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIC8vIH0sXHJcbiAgLy8ge1xyXG4gIC8vICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgLy8gICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAvLyB9LFxyXG4gIC8vIHtcclxuICAvLyAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgLy8gICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICAvLyB9LFxyXG4gIC8vIHtcclxuICAvLyAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAvLyAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gIC8vIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9wcmV2aWV3VGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcmV2aWV3VGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJ0aGlzIiwibmFtZSIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaWQiLCJpc0xpa2VkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2VFbCIsImhhbmRsZUxpa2VUb2dnbGUiLCJfcmVuZGVyTGlrZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJyZW1vdmVDYXJkIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIl9jYXJkVGl0bGVFbCIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0Iiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImZvcm1FcnJvciIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRMaXN0IiwiZXZlcnkiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsInRvZ2dsZUJ1dHRvblN0YXRlIiwicmVzZXRWYWxpZGF0aW9uIiwiZm9yRWFjaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50Iiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJfc3VibWl0QnRuVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiZGF0YSIsInNldFN1Ym1pdCIsImhhbmRsZVN1Ym1pdCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImFkZENhcmRGb3JtIiwiZm9ybXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZE5ld0NhcmRCdXR0b24iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwiYXBpIiwib3B0aW9ucyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJ1cGRhdGVQcm9maWxlSW5mbyIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXIiLCJhZGROZXdDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImFkZExpa2VzIiwicmVtb3ZlTGlrZXMiLCJhdXRob3JpemF0aW9uIiwiZWRpdEF2YXRhck1vZGFsIiwiUG9wdXBXaXRoRm9ybSIsInVzZXJEYXRhIiwiY29uc29sZSIsImxvZyIsInVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNhdGNoIiwiZXJyb3IiLCJmaW5hbGx5IiwidGl0bGVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlVGl0bGUiLCJfcHJvZmlsZURlc2NyaXB0aW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJfdXNlckluZm8iLCJzZXRVc2VySW5mbyIsInByb2ZpbGVNb2RhbCIsInVzZXJQcm9maWxlSW5mbyIsImZvcm1WYWxpZGF0b3JzIiwiY2FyZE1vZGFsIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInJlc2V0IiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIkNhcmQiLCJjYXJkIiwiY2FyZHMiLCJkZWxldGVNb2RhbCIsImNhcmRQcmV2aWV3IiwiX3ByZXZpZXdJbWFnZSIsIl9wcmV2aWV3VGl0bGUiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiXSwic291cmNlUm9vdCI6IiJ9